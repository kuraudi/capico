{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/askeroff/Desktop/vscode/exchange/frontend/src/app/signup/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport HeaderNav from \"../components/common/HeaderNav\";\r\nimport axios from \"axios\";\r\nimport { JwtPayload } from \"jwt-decode\";\r\nimport { useGlobalContext } from \"../GlobalContext\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nexport interface CustomJwtPayload extends JwtPayload {\r\n  role: string;\r\n}\r\n\r\nexport default function Page() {\r\n  const [formData, setFormData] = useState({ email: \"\", pass: \"\" });\r\n  const { setRole } = useGlobalContext();\r\n  const router = useRouter();\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    const form = e.target as HTMLFormElement; // Явно указываем, что e.target — это форма\r\n    const email = (form.elements.namedItem(\"email\") as HTMLInputElement).value;\r\n    const password = (form.elements.namedItem(\"password\") as HTMLInputElement)\r\n      .value;\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://127.0.0.1:8000/userauth/register/\",\r\n        { email, password },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      setRole(response.data[\"role\"]); // Обновляем роль пользователя\r\n      localStorage.setItem(\"role\", response.data[\"role\"]);\r\n      localStorage.setItem(\"access\", response.data[\"access\"]);\r\n      localStorage.setItem(\"email\", response.data[\"email\"]);\r\n      router.push(\"/\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleGo = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.get(\"http://127.0.0.1:8000/userauth/\", {\r\n        withCredentials: true,\r\n      });\r\n      const { access, role } = response.data;\r\n      localStorage.setItem(\"access\", access);\r\n      console.log(\"Роль пользователя:\", role, access);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"relative z-100 min-w-[500px] max-w-[1600px] h-[900px] bg-[url('/pages/AuthPage/bg.png')] bg-cover bg-no-repeat m-auto bg-[40px_-80px] z-1000\">\r\n        <div className=\"container overflow-hidden h-full w-full text-white\">\r\n          <div className=\"w-[550px] h-[600px] bg-black  ml-auto mr-[5vw] rounded-[30px] \">\r\n            <div className=\"flex flex-col w-[80%] m-auto h-[90%] z-1000\">\r\n              <div>\r\n                <p className=\"font-nekstmedium text-[72px] mb-[34px]\">\r\n                  Sign in\r\n                </p>\r\n                <form onSubmit={handleSubmit}>\r\n                  <label\r\n                    htmlFor=\"\"\r\n                    className=\"font-nekstregular text-[#8C74B4] text-[16px] ml-[5px]\"\r\n                  >\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={formData.email}\r\n                    onChange={(event) => {\r\n                      setFormData({ ...formData, email: event.target.value });\r\n                    }}\r\n                    className=\"placeholder-[#685C7B] placeholder-opacity-50 w-[100%] h-[43px] bg-black border-b-[2px] border-solid border-[#685C7B] font-nekstmedium text-[29px] p-[5px] focus:border-[#9B65FF] mb-[16px] placeholder:text-[26px] mt-[10px] focus:placeholder-opacity-0 \"\r\n                  />\r\n                  <label\r\n                    htmlFor=\"\"\r\n                    className=\"font-nekstregular text-[#8C74B4] text-[16px] ml-[5px]\"\r\n                  >\r\n                    Password\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={formData.pass}\r\n                    onChange={(event) => {\r\n                      setFormData({ ...formData, pass: event.target.value });\r\n                    }}\r\n                    className=\"placeholder-[#685C7B] placeholder-opacity-50 w-[100%] h-[43px] bg-black border-b-[2px] border-solid border-[#685C7B] font-nekstmedium text-[29px] p-[5px] focus:border-[#9B65FF] mb-[16px] placeholder:text-[26px] mt-[10px] focus:placeholder-opacity-0\"\r\n                  />\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"block w-[100%] h-[45px] rounded-[30px] m-auto bg-[#5F29B7] mt-[52px] font-nekstsemibold text-[20px]\"\r\n                  >\r\n                    Sign in\r\n                  </button>\r\n                </form>\r\n              </div>\r\n              <div className=\"mt-auto\">\r\n                <p className=\"font-nekstregular text-[#7A6E8C] text-[20px] mb-[10px]\">\r\n                  Have already account?\r\n                </p>\r\n                <button\r\n                  className=\"w-full h-[45px] border-[1px] rounded-[30px] border-solid border-[#5F29B7] font-nekstsemibold text-[16px]\"\r\n                  onClick={handleGo}\r\n                >\r\n                  Log in an account\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"absolute w-[800px] h-[1000px] bg-[url('/pages/mainPage/decorations/bg_mainpage_light.png')] bg-cover bg-no-repeat m-auto opacity-100 top-[-100px] right-[-200px] z-0 pointer-events-none\"></div>\r\n        <div className=\"absolute w-[800px] h-[1000px] bg-[url('/pages/mainPage/decorations/bg_mainpage_light.png')] bg-cover bg-no-repeat m-auto opacity-560 top-[0] right-[-900px] z-0 pointer-events-none rotate-90\"></div>\r\n        <div className=\"absolute w-[800px] h-[1000px] bg-[url('/pages/mainPage/decorations/bg_mainpage_light.png')] bg-cover bg-no-repeat m-auto opacity-560 top-[0] left-[-100px] z-0 pointer-events-none rotate-90\"></div>\r\n        <div className=\"absolute w-[800px] h-[1000px] bg-[url('/pages/mainPage/decorations/bg_mainpage_light.png')] bg-cover bg-no-repeat m-auto opacity-560 top-[-100px] left-[-999px] z-0 pointer-events-none rotate-0\"></div>\r\n      </div>\r\n\r\n      {/* <div className=\"w-[100vw] h-[100vh] text-white relative\">\r\n        \r\n          <div className=\"w-full h-full  bg-[url('/pages/AuthPage/bg.png')] bg-cover  bg-no-repeat bg-[50px_-100px]\"></div>\r\n        </div>\r\n\r\n        \r\n      {/* </div> */}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AAIA;AACA;AAHA;;;AAHA;;;;;AAQA,wIAAA,CAAA,UAAK,CAAC,QAAQ,CAAC,eAAe,GAAG;AAMlB,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,OAAO;QAAI,MAAM;IAAG;IAC/D,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,mBAAgB,AAAD;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,MAAM,OAAO,EAAE,MAAM,EAAqB,2CAA2C;QACrF,MAAM,QAAQ,AAAC,KAAK,QAAQ,CAAC,SAAS,CAAC,SAA8B,KAAK;QAC1E,MAAM,WAAW,AAAC,KAAK,QAAQ,CAAC,SAAS,CAAC,YACvC,KAAK;QAER,IAAI;YACF,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAC/B,4CACA;gBAAE;gBAAO;YAAS,GAClB;gBAAE,iBAAiB;YAAK;YAG1B,QAAQ,SAAS,IAAI,CAAC,OAAO,GAAG,8BAA8B;YAC9D,aAAa,OAAO,CAAC,QAAQ,SAAS,IAAI,CAAC,OAAO;YAClD,aAAa,OAAO,CAAC,UAAU,SAAS,IAAI,CAAC,SAAS;YACtD,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,QAAQ;YACpD,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,WAAW,OAAO;QACtB,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,mCAAmC;gBAClE,iBAAiB;YACnB;YACA,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;YACtC,aAAa,OAAO,CAAC,UAAU;YAC/B,QAAQ,GAAG,CAAC,sBAAsB,MAAM;QAC1C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAE,WAAU;sDAAyC;;;;;;sDAGtD,6LAAC;4CAAK,UAAU;;8DACd,6LAAC;oDACC,SAAQ;oDACR,WAAU;8DACX;;;;;;8DAGD,6LAAC;oDACC,QAAQ;oDACR,MAAK;oDACL,MAAK;oDACL,aAAY;oDACZ,OAAO,SAAS,KAAK;oDACrB,UAAU,CAAC;wDACT,YAAY;4DAAE,GAAG,QAAQ;4DAAE,OAAO,MAAM,MAAM,CAAC,KAAK;wDAAC;oDACvD;oDACA,WAAU;;;;;;8DAEZ,6LAAC;oDACC,SAAQ;oDACR,WAAU;8DACX;;;;;;8DAGD,6LAAC;oDACC,MAAK;oDACL,MAAK;oDACL,aAAY;oDACZ,OAAO,SAAS,IAAI;oDACpB,UAAU,CAAC;wDACT,YAAY;4DAAE,GAAG,QAAQ;4DAAE,MAAM,MAAM,MAAM,CAAC,KAAK;wDAAC;oDACtD;oDACA,WAAU;;;;;;8DAEZ,6LAAC;oDACC,MAAK;oDACL,WAAU;8DACX;;;;;;;;;;;;;;;;;;8CAKL,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDAAyD;;;;;;sDAGtE,6LAAC;4CACC,WAAU;4CACV,SAAS;sDACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAQT,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAYvB;GA7HwB;;QAEF,+HAAA,CAAA,mBAAgB;QACrB,qIAAA,CAAA,YAAS;;;KAHF"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/askeroff/Desktop/vscode/exchange/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}